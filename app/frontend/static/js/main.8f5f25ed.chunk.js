(this.webpackJsonptracardi=this.webpackJsonptracardi||[]).push([[0],{118:function(e,t,n){},141:function(e,t,n){},180:function(e,t,n){},194:function(e,t,n){},245:function(e,t,n){},251:function(e,t,n){},252:function(e,t,n){},253:function(e,t,n){},254:function(e,t,n){},255:function(e,t,n){},256:function(e,t,n){},276:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},280:function(e,t,n){},281:function(e,t,n){},502:function(e,t,n){},503:function(e,t,n){},504:function(e,t,n){},505:function(e,t,n){},506:function(e,t,n){},507:function(e,t,n){},508:function(e,t,n){},509:function(e,t,n){},528:function(e,t,n){},530:function(e,t,n){},531:function(e,t,n){},532:function(e,t,n){},533:function(e,t,n){},536:function(e,t,n){},537:function(e,t,n){var a={"./start.md":[559,3],"./uql/create.md":[560,4],"./uql/delete.md":[561,5],"./uql/select.md":[562,6]};function c(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],c=t[0];return n.e(t[1]).then((function(){return n(c)}))}c.keys=function(){return Object.keys(a)},c.id=537,e.exports=c},538:function(e,t,n){},539:function(e,t,n){},540:function(e,t,n){},541:function(e,t,n){},542:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),i=n.n(c),r=n(622),s=n(16),o=n.n(s),l=(n(245),function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,631)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))}),d=n(26),j=function(e){return{name:e,initialState:{data:[],error:null,loading:!1},reducers:{loading:function(e){e.data=[],e.loading=!0,e.error=null},ready:function(e,t){e.data=t.payload.data,e.loading=!1,e.error=null},failed:function(e,t){e.data=[],e.loading=!1,e.error=t.payload.error}}}},u=Object(d.b)(j("select")),b=u.actions,h=(b.loading,b.ready,b.failed,u.reducer),O=Object(d.b)({name:"right-paper",initialState:{caseId:"",open:!1,width:1e3,anchor:"right"},reducers:{openRightPaper:function(e,t){e.caseId=t.payload.caseId,e.width=t.payload.width,e.anchor="undefined"!==typeof t.payload.anchor?t.payload.anchor:"right",e.open=!0},closeRightPaper:function(e){e.open=!1,e.caseId=""}}}),p=O.actions,m=p.openRightPaper,f=p.closeRightPaper,x=O.reducer,g=Object(d.b)({name:"notification",initialState:{value:0},reducers:{increaseNotificationNumber:function(e){e.value+=1},decreaseNotificationNumber:function(e){e.value-=1},resetNotificationNumber:function(e){e.value=0}}}),v=g.actions,y=(v.increaseNotificationNumber,v.decreaseNotificationNumber,v.resetNotificationNumber,g.reducer),S=Object(d.b)({name:"warning",initialState:{show:!1,message:"n/a"},reducers:{showWarningIcon:function(e,t){e.show=!0,e.message=t.payload.message},hideWarningIcon:function(e){e.show=!1,e.message=""}}}),C=S.actions,N=(C.showWarningIcon,C.hideWarningIcon,S.reducer),R=Object(d.b)({name:"alert",initialState:{message:"n/a",type:"info",show:!1,hideAfter:1e3},reducers:{showAlert:function(e,t){e.message=t.payload.message,e.type=t.payload.type,e.show=!0,e.hideAfter="undefined"!=typeof t.payload.hideAfter?t.payload.hideAfter:500},hideAlert:function(e){e.show=!1}}}),T=R.actions,k=T.showAlert,E=T.hideAlert,w=R.reducer,A=Object(d.b)({name:"progress",initialState:{progress:0},reducers:{increaseProgress:function(e,t){e.progress+=t.payload.value},decreaseProgress:function(e,t){e.progress-=t.payload.value},resetProgress:function(e){e.progress=0}}}),_=A.actions,L=(_.increaseProgress,_.decreaseProgress,_.resetProgress,A.reducer),I=Object(d.b)(j("event-data-grid")),P=I.actions,D=(P.loading,P.ready,P.failed,I.reducer),F=Object(d.b)({name:"uql-query",initialState:{uql:""},reducers:{runQuery:function(e,t){var n="none",a=t.payload.query.toLowerCase();a.startsWith("select event")?n="event":a.startsWith("select rule")?n="rule":a.startsWith("select segment")&&(n="segment"),e.uql=t.payload.query,e.uqlType=n,localStorage.setItem("uqlType",n)}}}),B=(F.actions.runQuery,F.reducer),q=Object(d.a)({reducer:{datasetSelectReducer:h,rightPaperReducer:x,notificationReducer:y,progressReducer:L,warningIconReducer:N,alertReducer:w,eventDataGridReducer:D,uqlReducer:B}}),U=n(15),M=n(6),H=n(42),W=n(45),V=n(22),z=n(630),K=n(624);n(251),n(180);function Q(e){var t=e.height;return Object(a.jsx)("div",{className:"MainMenuItem",style:{minHeight:t}})}n(252);function G(e){var t=e.children;return Object(a.jsxs)("div",{className:"MainMenu",children:[Object(a.jsx)(Q,{height:"45px"}),t,Object(a.jsx)(Q,{height:"100%"})]})}n(253);function J(e){var t=e.children,n=e.style;return Object(a.jsx)("div",{className:"MainContent",style:n,children:t})}n(254);function Y(e){var t=e.children;return Object(a.jsx)("div",{className:"SubContent",children:t})}n(255);function X(e){var t=e.title,n=e.children;return Object(a.jsxs)("div",{className:"SubMenu",children:[Object(a.jsxs)("div",{className:"SubMenuHeader",children:[Object(a.jsx)("span",{children:"Tracardi"})," ",t]}),n,Object(a.jsx)("div",{className:"SubMenuFiller",children:Object(a.jsxs)("div",{className:"Branding",children:[Object(a.jsxs)("div",{className:"BrandName",children:["TRACARDI ",Object(a.jsx)("span",{children:" ver. 0.1.0"})]}),Object(a.jsx)("div",{className:"TagName",children:"Customer Data Platform"})]})})]})}var Z=n(609),$=n(610),ee=n(611);n(256);function te(e){var t=e.children,n=e.link,c=e.defaultLink,i=Object(V.h)(),r=Object(V.g)(),s="SubMenuItem";"undefined"!==typeof c&&c.includes(i.pathname)||i.pathname===n?s+=" SubMenuSelectedItem":s+=" SubMenuNotSelectedItem";return Object(a.jsx)("div",{className:s,onClick:function(){r.push(n)},children:t})}function ne(e){var t=e.icon,n=e.title,c=e.link,i=e.defaultLink,r=Object(V.h)(),s=Object(V.g)(),o="MainMenuItem";"undefined"!==typeof i&&i===r.pathname||r.pathname.substring(0,c.length)===c?o+=" MainMenuSelectedItem":o+=" MainMenuNotSelectedItem";return Object(a.jsxs)("div",{className:o,onClick:function(){s.push(c)},children:[Object(a.jsx)("div",{children:t}),Object(a.jsx)("div",{children:n})]})}var ae=n(29),ce=n(130);function ie(){localStorage.removeItem("auth-token")}function re(){return localStorage.getItem("auth-token")}var se=n(108),oe=n(599);function le(){return Object(a.jsxs)(se.a,{variant:"body2",color:"textPrimary",align:"center",children:["You do not have rights to this page.",Object(a.jsx)(oe.a,{color:"inherit",href:"/app/login",children:"Log-in"}),"."]})}function de(e){var t=e.children,n=e.location,c=e.roles,i=Object(ce.a)(e,["children","location","roles"]);var r=function(){return function(e,t){var n=new Set(t);return Object(ae.a)(new Set(e)).filter((function(e){return n.has(e)}))}(JSON.parse(localStorage.getItem("auth-roles")),c).length>0};return Object(a.jsxs)(V.b,Object(H.a)(Object(H.a)({},i),{},{children:[console.log(r()),null!==re()?r()?t:Object(a.jsx)(le,{}):Object(a.jsx)(V.a,{to:{pathname:"/app/login",state:{from:n}}})]}))}var je=n(153),ue=n.n(je),be=function(){var e=re();return"Bearer "+(null==e?"None":e)},he=function(e){return e=Object(H.a)(Object(H.a)({},e),{},{Authorization:be()}),ue.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL,headers:e})},Oe=function(e){return(e=Object(H.a)(Object(H.a)({},e),{},{baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL})).headers=Object(H.a)(Object(H.a)({},e.headers),{},{Authorization:be()}),console.log(e),ue()(e)},pe=function(e,t,n,a){n(!1),a(!1),t(!0);try{he({"Content-type":"application/json"}).get(e).then((function(e){t(!1),a({data:e.data})})).catch((function(e){t(!1),"undefined"!=typeof e.response?n(e.response.data.detail):n(e.message)}))}catch(c){n(c.message)}},me=function(e,t,n,a){n(!1),a(!1),t(!0);try{he({"Content-type":"application/json"}).delete(e).then((function(e){t(!1),a({data:e.data})})).catch((function(e){t(!1),"undefined"!=typeof e.response?n(e.response.data.detail):n(e.message)}))}catch(c){n(c.message)}},fe=function(e,t,n,a){var c=e.url,i=e.header,r=e.method,s=e.data,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];o&&(n(!1),a(!1),t(!0)),"undefined"==typeof i&&(i={"Content-Type":"application/json"}),"undefined"==typeof r&&(r="get");try{Oe({url:c,method:r,header:i,data:s}).then((function(e){t(!1),a({data:e.data})})).catch((function(e){t(!1),e.response?("object"===typeof e.response.data.detail&&null!==e.response.data.detail?"string"===typeof e.response.data.detail.message&&null!==e.response.data.detail.message&&n(e.response.data.detail.message):n(e.response.data.detail),e.request&&401==e.request.status&&ie()):n(e.message)}))}catch(l){console.log(l.message),n(l.message)}};n(276);function xe(e){var t=e.list,n=e.detail;return Object(a.jsxs)("div",{className:"ListDetailView",children:[Object(a.jsx)("div",{className:"ListDetailViewLeftColumn",children:t()}),Object(a.jsx)("div",{className:"ListDetailViewRightColumn",children:n()})]})}var ge=n(213),ve=n(43);function ye(e){var t=e.onEnterPressed,n=e.onChange,c=e.label,r=e.initValue,s=e.error,o=e.variant,l=Object(ve.a)((function(){return{root:{width:"100%"}}}))(),d=i.a.useState(r),j=Object(M.a)(d,2),u=j[0],b=j[1];return Object(a.jsx)("div",{className:l.root,children:Object(a.jsx)(ge.a,{id:"search-input",label:c,value:u,onChange:function(e){"undefined"!=typeof n&&(n(e),e.preventDefault()),b(e.target.value)},onKeyPressCapture:function(e){"Enter"===e.key&&"undefined"!=typeof t&&(t(e.target.value),e.preventDefault())},className:l.root,error:s,variant:o,size:"small"})})}n(278);var Se=Object(U.b)((function(){return{}}),{showAlert:k})((function(e){var t=e.filterLabel,n=e.filterKey,r=e.endPoinyUrl,s=e.renderList,o=e.forceReload,l=i.a.useState(!1),d=Object(M.a)(l,2),j=(d[0],d[1]),u=i.a.useState(!1),b=Object(M.a)(u,2),h=b[0],O=b[1],p=i.a.useState(!1),m=Object(M.a)(p,2),f=m[0],x=m[1],g=i.a.useState(localStorage.getItem(n)),v=Object(M.a)(g,2),y=v[0],S=v[1],C=i.a.useState(!1),N=Object(M.a)(C,2),R=N[0],T=N[1],E=i.a.useState(0),w=Object(M.a)(E,2),A=w[0],_=w[1],L=Object(U.c)(),I=function(e){return function(){var t=function(){};e&&(t=function(e){j(e),T(!1)}),fe({url:r,method:"post",header:{"Content-type":"text/plain"},data:y},t,(function(e){O(e),T(!0)}),(function(e){x(e),T(!1)}),e)}};return Object(c.useEffect)((function(){I(!0)();var e=setInterval(I(!1),5e3);return function(){return clearInterval(e)}}),[y,A,o]),Object(a.jsxs)("div",{className:"FilterListWrapper",children:[Object(a.jsx)("div",{className:"FilterInput",children:Object(a.jsx)(ye,{label:t,onEnterPressed:function(e){localStorage.setItem(n,e),S(e),_(Math.random())},initValue:y,style:{width:"100%"},error:R,variant:"outlined"})}),Object(a.jsx)("div",{className:"FilterList",children:function(){if(!1!==h&&(L(k({type:"warning",message:h,hideAfter:6e3})),O(!1)),!1!==f)return s(f.data)}()})]})}));n(82),n(93);function Ce(e){var t=e.data,n=e.onClick;return Object(a.jsxs)("div",{onClick:function(e){n(t.itemId)},className:"Card",children:[Object(a.jsx)("span",{className:"Avatar ScopeAvatar",children:"S"}),Object(a.jsx)("span",{className:"name",children:t.name}),Object(a.jsx)("span",{className:"scope",children:t.hostname})]})}n(141),n(279),n(280);function Ne(e){e.title;var t=Object(ce.a)(e,["title"]);return Object(a.jsx)("div",{className:"DetailBox",children:t.children})}var Re={hljs:{display:"block",overflowX:"auto",padding:"0.5em",color:"#000",maxHeight:"200px",fontSize:"80%"},"hljs-comment":{color:"#408080",fontStyle:"italic"},"hljs-quote":{color:"#408080",fontStyle:"italic"},"hljs-keyword":{color:"#954121"},"hljs-selector-tag":{color:"#954121"},"hljs-literal":{color:"#954121"},"hljs-subst":{color:"#954121"},"hljs-number":{color:"#40a070"},"hljs-string":{color:"#219161"},"hljs-doctag":{color:"#219161"},"hljs-selector-id":{color:"#19469d"},"hljs-selector-class":{color:"#19469d"},"hljs-section":{color:"#19469d"},"hljs-type":{color:"#19469d"},"hljs-params":{color:"#00f"},"hljs-title":{color:"#458",fontWeight:"bold"},"hljs-tag":{color:"#000080",fontWeight:"normal"},"hljs-name":{color:"#000080",fontWeight:"normal"},"hljs-attribute":{color:"#000080",fontWeight:"normal"},"hljs-variable":{color:"#008080"},"hljs-template-variable":{color:"#008080"},"hljs-regexp":{color:"#b68"},"hljs-link":{color:"#b68"},"hljs-symbol":{color:"#990073"},"hljs-bullet":{color:"#990073"},"hljs-built_in":{color:"#0086b3"},"hljs-builtin-name":{color:"#0086b3"},"hljs-meta":{color:"#999",fontWeight:"bold"},"hljs-deletion":{background:"#fdd"},"hljs-addition":{background:"#dfd"},"hljs-emphasis":{fontStyle:"italic"},"hljs-strong":{fontWeight:"bold"}};n(281);function Te(e){var t=Object.assign({},e);return Object(a.jsx)("div",{className:"MiniHeader",children:t.children})}var ke=n(623);function Ee(e){var t='<script type="text/javascript">\n    var unomiOption = {\n        scope: \''+e.scope+"',\n        url: '"+e.trackerHost+'\'\n    };\n    window.unomiTracker || (window.unomiTracker = {}), function () {\n        function e(e) {\n            for (unomiTracker.initialize({"Apache Unomi": unomiOption}); n.length > 0;) {\n                var r = n.shift(), t = r.shift();\n                unomiTracker[t] && unomiTracker[t].apply(unomiTracker, r)\n            }\n        }\n\n        for (var n = [], r = ["trackSubmit", "trackClick", "trackLink", "trackForm", "initialize", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "once", "off", "on", "personalize"], t = 0; t < r.length; t++) {\n            var i = r[t];\n            window.unomiTracker[i] = function (e) {\n                return function () {\n                    var r = Array.prototype.slice.call(arguments);\n                    return r.unshift(e), n.push(r), window.unomiTracker\n                }\n            }(i)\n        }\n        unomiTracker.load = function () {\n            var n = document.createElement("script");\n            n.type = "text/javascript", n.async = !0, n.src = unomiOption.url + "/tracker/unomi-tracker.min.js", n.addEventListener ? n.addEventListener("load", function (n) {\n                "function" == typeof e && e(n)\n            }, !1) : n.onreadystatechange = function () {\n                "complete" !== this.readyState && "loaded" !== this.readyState || e(window.event)\n            };\n            var r = document.getElementsByTagName("script")[0];\n            r.parentNode.insertBefore(n, r)\n        }, document.addEventListener("DOMContentLoaded", unomiTracker.load), unomiTracker.page()\n    }();\n<\/script>';return Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Please paste this code into your web page"}),Object(a.jsx)(ke.a,{language:"javascript",wrapLongLines:!0,style:Re,children:t})]})}var we={BASE_FONT_FAMILY:"Roboto Mono, sans-serif",BASE_FONT_SIZE:"15px",BASE_LINE_HEIGHT:1.2,BASE_BACKGROUND_COLOR:"transparent",BASE_COLOR:"#bbb",OBJECT_PREVIEW_ARRAY_MAX_PROPERTIES:10,OBJECT_PREVIEW_OBJECT_MAX_PROPERTIES:5,OBJECT_NAME_COLOR:"#444",OBJECT_VALUE_NULL_COLOR:"#64b5f6",OBJECT_VALUE_UNDEFINED_COLOR:"rgb(128, 128, 128)",OBJECT_VALUE_REGEXP_COLOR:"green",OBJECT_VALUE_STRING_COLOR:"#0069c0",OBJECT_VALUE_SYMBOL_COLOR:"rgb(196, 26, 22)",OBJECT_VALUE_NUMBER_COLOR:"#0a0",OBJECT_VALUE_BOOLEAN_COLOR:"#a00",OBJECT_VALUE_FUNCTION_PREFIX_COLOR:"#aaa",HTML_TAG_COLOR:"rgb(168, 148, 166)",HTML_TAGNAME_COLOR:"rgb(136, 18, 128)",HTML_TAGNAME_TEXT_TRANSFORM:"lowercase",HTML_ATTRIBUTE_NAME_COLOR:"rgb(153, 69, 0)",HTML_ATTRIBUTE_VALUE_COLOR:"rgb(26, 26, 166)",HTML_COMMENT_COLOR:"rgb(35, 110, 37)",HTML_DOCTYPE_COLOR:"rgb(192, 192, 192)",ARROW_COLOR:"#6e6e6e",ARROW_MARGIN_RIGHT:8,ARROW_FONT_SIZE:10,ARROW_ANIMATION_DURATION:"0",TREENODE_FONT_FAMILY:"Roboto Mono, sans-serif",TREENODE_FONT_SIZE:"13px",TREENODE_LINE_HEIGHT:1.2,TREENODE_PADDING_LEFT:10,TABLE_BORDER_COLOR:"#888",TABLE_TH_BACKGROUND_COLOR:"white",TABLE_TH_HOVER_COLOR:"hsla(0, 0%, 90%, 1)",TABLE_SORT_ICON_COLOR:"#0089e0",TABLE_DATA_BACKGROUND_IMAGE:" linear-gradient(to bottom, white, white 50%, rgb(234, 243, 243) 50%, rgb(234, 243, 243))",TABLE_DATA_BACKGROUND_SIZE:"100px 32px"},Ae=n(41),_e=(n(502),n(503),function(e){var t=e.label;return Object(a.jsx)("div",{className:"DetailHeader",children:Object(a.jsx)("div",{className:"DetailLabel",children:t})})}),Le=n(79),Ie=(n(94),n(203)),Pe=n.n(Ie),De=(n(504),function(e){var t=e.label,n=e.value;return Object(a.jsxs)("div",{className:"DetailKeyValue",children:[Object(a.jsx)("div",{title:t,className:"DetailKey",children:t}),Object(a.jsx)("div",{title:n,className:"DetailValue",children:n})]})});function Fe(e){var t=e.properties;var n=function(e){return null===e?"null":(t=e)&&0===Object.keys(t).length&&t.constructor===Object?"{}":e.toString();var t},c="undefined"!==typeof t&&null!==t?Pe.a.dot(t):{};return Object(a.jsx)(i.a.Fragment,{children:Object.entries(c).map((function(e){var t=Object(M.a)(e,2),c=t[0],i=t[1];return Object(a.jsx)(De,{label:c,value:n(i)},c)}))})}var Be=n(600),qe=n(604),Ue=n(602),Me=n(603),He=n(601);function We(e){var t=e.open,n=e.title,c=e.content,i=e.onAgree,r=e.onClose;return Object(a.jsxs)(Be.a,{open:t,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(a.jsx)(He.a,{id:"alert-dialog-title",children:n}),Object(a.jsx)(Ue.a,{children:Object(a.jsx)(Me.a,{id:"alert-dialog-description",children:c})}),Object(a.jsxs)(qe.a,{children:[Object(a.jsx)(Le.a,{onClick:r,color:"primary",children:"No"}),Object(a.jsx)(Le.a,{onClick:i,color:"primary",autoFocus:!0,children:"Yes"})]})]})}function Ve(e){var t=e.data,n=e.onDelete,c=i.a.useState(!1),r=Object(M.a)(c,2),s=r[0],o=r[1];return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(_e,{label:t.name}),Object(a.jsxs)("div",{className:"RightTabScroller",style:{height:"calc(100% - 166px)"},children:[Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Data"}),Object(a.jsx)(Fe,{properties:t})]}),Object(a.jsx)(Ee,{scope:t.name,trackerHost:t.hostname}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"GET /scope"}),Object(a.jsx)(Ae.a,{data:t,theme:we,expandLevel:3})]})]}),Object(a.jsxs)("div",{className:"DetailActionButtons",children:[Object(a.jsx)(Le.a,{onClick:function(){o(!0)},variant:"outlined",color:"primary",children:"Delete"}),Object(a.jsx)(We,{open:s,title:"Do you want to delete this source?",content:"This action can not be undone.",onClose:function(){o(!1)},onAgree:function(){o(!1),n(t.itemId)}})]})]})}n(505);function ze(e){var t=e.children,n=e.buttons,c=Object(V.g)();return Object(a.jsxs)("nav",{className:"TopInfoBar",children:[Object(a.jsx)("div",{className:"Path",children:t}),Object(a.jsx)("div",{className:"ActionButtons",children:function(){if(Array.isArray(n))return n.map((function(e){return e}))}()}),Object(a.jsx)("div",{className:"LogOutButton",children:Object(a.jsx)(Le.a,{variant:"outlined",onClick:function(){c.push("/app/logout")},children:"Logout"})})]})}var Ke=Object(U.b)((function(e){return{}}),{openRightPaper:m})((function(e){var t=e.buttonLabel,n=e.anchor,c=e.width,i=e.caseId,r=e.openRightPaper,s=e.style;return Object(a.jsx)(Le.a,{onClick:function(){r({caseId:i,width:c,anchor:n})},color:"primary",variant:"outlined",style:s,children:t})}));n(506);function Qe(){var e=Object(V.h)();Object(V.g)();return Object(a.jsx)("div",{className:"Breadcrumps",children:function(){var t="";return e.pathname.split("/").map((function(e){return""!==e?(t=t+"/"+e,Object(a.jsxs)("span",{children:[" > ",e]},e)):Object(a.jsx)("span",{children:"Home"},e)}))}()})}var Ge=n(550);n(507);function Je(){return Object(a.jsx)("div",{className:"CenteredCircularProgress",children:Object(a.jsx)(Ge.a,{color:"secondary"})})}var Ye=Object(U.b)((function(e){return{}}),{showAlert:k})((function(e){var t=e.showAlert,n=i.a.useState(!1),c=Object(M.a)(n,2),r=c[0],s=c[1],o=i.a.useState(!1),l=Object(M.a)(o,2),d=l[0],j=l[1],u=i.a.useState(!1),b=Object(M.a)(u,2),h=b[0],O=b[1],p=i.a.useState(!1),m=Object(M.a)(p,2),f=(m[0],m[1]),x=function(e){pe("/source/"+e,s,j,O)},g=function(e){f(e),O(!1)},v=function(e){me("/source/"+e,(function(){}),(function(){}),g)};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(ze,{buttons:[Object(a.jsx)(Ke,{buttonLabel:"Add source",anchor:"right",width:1e3,caseId:"AddSourceForm"})],children:Object(a.jsx)(Qe,{})}),Object(a.jsx)(xe,{list:function(){return Object(a.jsx)(Se,{endPoinyUrl:"/source/select",renderList:function(e){return e.map((function(e,t){return Object(a.jsx)(Ce,{data:e,onClick:x},t)}))},filterLabel:"Type scope name to filter",filterKey:"filterScopeQuery"})},detail:function(){return!0===r?Object(a.jsx)(Je,{}):!1!==h?Object(a.jsx)(Ve,{data:h.data,onDelete:v}):!1!==d?(t({message:d.message,type:"error",hideAfter:2e3}),""):void 0}})]})})),Xe=n(85);Object(U.b)((function(){return{}}),{showAlert:k})((function(e){var t=e.data,n=e.onClick,c=[{field:"scope",headerName:"Scope",flex:.3},{field:"type",headerName:"Type",flex:.3,renderCell:function(e){return Object(a.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClickCapture:function(){return n(e.getValue("eventId"))},children:e.value})}},{field:"timestamp",headerName:"Timestamp",flex:.4,type:"dateTime"}];return Object(a.jsx)(Xe.a,{rows:t,rowHeight:35,pageSize:20,columns:c})})),n(508);function Ze(e){var t=e.data,n=e.onClick;return Object(a.jsxs)("div",{onClick:function(e){n(t.eventId)},className:"Card",children:[Object(a.jsx)("span",{className:"Avatar EventAvatar",children:"E"}),Object(a.jsx)("span",{className:"scope",children:t.scope}),Object(a.jsx)("span",{className:"type",children:t.type}),Object(a.jsx)("span",{className:"timestamp",children:t.timestamp})]})}n(118);function $e(e){var t=e.data;function n(e){var t=e.data,n={"Event Id":t.itemId,"Session id":t.sessionId,"Profile id":t.profileId};return Object(a.jsx)(Fe,{properties:n})}function c(e){var t=e.data,n={"Event Type":t.eventType,Scope:t.scope,Persistent:t.persistent,Version:t.version,Timestamp:t.timeStamp};return Object(a.jsx)(Fe,{properties:n})}return Object(a.jsxs)("div",{style:{height:"inherit"},children:[Object(a.jsx)(_e,{label:t.itemId}),Object(a.jsxs)("div",{className:"RightTabScroller",children:[Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Ids"}),Object(a.jsx)(n,{data:t})]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Properties"}),Object(a.jsx)(Fe,{properties:t.properties})]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Source"}),Object(a.jsx)(Fe,{properties:t.source})]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Target"}),Object(a.jsx)(Fe,{properties:t.target})]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Other"}),Object(a.jsx)(c,{data:t})]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Raw UNOMI data"}),Object(a.jsx)(Ae.a,{data:t,theme:we,expandLevel:3})]})]})]})}var et=Object(U.b)((function(e){return{notification:e.notificationReducer}}))((function(){var e=i.a.useState(!1),t=Object(M.a)(e,2),n=t[0],c=t[1],r=i.a.useState(!1),s=Object(M.a)(r,2),o=(s[0],s[1]),l=i.a.useState(!1),d=Object(M.a)(l,2),j=d[0],u=d[1],b=function(e){console.log(e),pe("/event/"+e,c,o,u)};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(ze,{children:Object(a.jsx)(Qe,{})}),Object(a.jsx)(xe,{list:function(){return Object(a.jsx)(Se,{endPoinyUrl:"/event/select",renderList:function(e){return e.map((function(e,t){return Object(a.jsx)(Ze,{data:e,onClick:b},t)}))},filterLabel:"Type condition to filter events",filterKey:"filterEventQuery"})},detail:function(){return!1!==j?Object(a.jsx)($e,{data:j.data}):!0===n?Object(a.jsx)(Je,{}):void 0}})]})}));Object(U.b)((function(){return{}}),{showAlert:k})((function(e){var t=e.onClick,n=e.data,c=[{field:"scope",headerName:"Scope",width:100},{field:"name",headerName:"Name",flex:1,renderCell:function(e){return Object(a.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClickCapture:function(){return t(e.getValue("ruleId"))},children:e.value})}}];return Object(a.jsx)(Xe.a,{rows:n,rowHeight:35,pageSize:20,columns:c})})),n(509);function tt(e){var t=e.data,n=e.onClick;return Object(a.jsxs)("div",{onClick:function(e){n(t.metadata.id)},className:"Card RuleCard",children:[Object(a.jsx)("span",{className:"Avatar"+(t.metadata.enabled?" RuleAvatarEnabled":" RuleAvatarDisabled"),children:"R"}),Object(a.jsx)("span",{className:"scope",children:t.metadata.scope}),Object(a.jsx)("span",{className:"name",children:t.metadata.name})]})}var nt=n(607),at=n(553),ct=n(146),it=n.n(ct);function rt(e){var t=e.index,n=e.id,c=e.meta,r=i.a.useState(c.enabled),s=Object(M.a)(r,2),o=s[0],l=s[1],d=i.a.useState(c.hidden),j=Object(M.a)(d,2),u=j[0],b=j[1],h=i.a.useState(c.readOnly),O=Object(M.a)(h,2),p=O[0],m=O[1],f=i.a.useState(c.missingPlugins),x=Object(M.a)(f,2),g=x[0],v=x[1],y=it()({typography:{body1:{fontSize:14}},palette:{primary:{main:"#19857b"}}}),S=function(){},C=function(){},N=function(e,a,c){var i=e.target.checked,r={url:t+"/"+n,method:"put",data:{doc:{metadata:{}}}};r.data.doc.metadata[a]=i,fe(r,S,C,(function(){c(i)}))},R=function(e){var t=e.label,n=e.value,c=e.onChange;return Object(a.jsxs)("div",{className:"RuleSwitch",children:[Object(a.jsx)("div",{className:"RuleSwitchLabel",children:t}),Object(a.jsx)(at.a,{checked:n,onChange:c,color:"primary",size:"small"})]})};return Object(a.jsxs)(nt.a,{theme:y,children:[Object(a.jsx)(R,{label:"Enabled",value:o,onChange:function(e){N(e,"enabled",l)}}),Object(a.jsx)(R,{label:"Read only",value:p,onChange:function(e){N(e,"readOnly",m)}}),Object(a.jsx)(R,{label:"Hidden",value:u,onChange:function(e){N(e,"hidden",b)}}),Object(a.jsx)(R,{label:"Missing plugins",value:g,onChange:function(e){N(e,"missingPlugins",v)}})]})}var st=function(e){var t=e.data,n=e.onDelete,c=i.a.useState(!1),r=Object(M.a)(c,2),s=r[0],o=r[1],l=function(e){var t=e.data;return"undefined"!==typeof t.uql?Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"WHEN"}),t.uql.condition]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"THEN"}),t.uql.actions]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"UQL create statement"}),t.uql.uql]})]}):""};return Object(a.jsxs)("div",{style:{height:"inherit"},children:[Object(a.jsx)(_e,{label:t.unomi.metadata.name}),Object(a.jsxs)("div",{className:"RightTabScroller",style:{height:"calc(100% - 161px)"},children:[t.unomi.metadata.description&&Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"description"}),t.unomi.metadata.description]}),Object(a.jsx)(l,{data:t}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"scope"}),t.unomi.metadata.scope]}),Object(a.jsx)(Ne,{children:Object(a.jsx)(rt,{index:"rule",id:t.unomi.itemId,meta:t.unomi.metadata})}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Raw unomi data"}),Object(a.jsx)(Ae.a,{data:t,theme:we,expandLevel:2})]})]}),Object(a.jsxs)("div",{className:"DetailActionButtons",children:[Object(a.jsx)(Le.a,{onClick:function(){o(!0)},variant:"outlined",color:"primary",children:"Delete"}),Object(a.jsx)(We,{open:s,title:"Do you want to delete this rule?",content:"This action can not be undone.",onClose:function(){o(!1)},onAgree:function(){o(!1),n(t.unomi.metadata.id)}})]})]})},ot=Object(U.b)((function(e){return{}}),{showAlert:k})((function(e){var t=e.showAlert,n=i.a.useState(!1),c=Object(M.a)(n,2),r=c[0],s=c[1],o=i.a.useState(!1),l=Object(M.a)(o,2),d=l[0],j=l[1],u=i.a.useState(!1),b=Object(M.a)(u,2),h=b[0],O=b[1],p=i.a.useState(!1),m=Object(M.a)(p,2),f=(m[0],m[1]),x=function(){},g=function(e){f(e),O(!1)},v=function(e){pe("/rule/"+e,s,j,O)},y=function(e){me("/rule/"+e,x,x,g)};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(ze,{buttons:[Object(a.jsx)(Ke,{buttonLabel:"Add rule",anchor:"right",width:1e3,caseId:"AddRuleForm"})],children:Object(a.jsx)(Qe,{})}),Object(a.jsx)(xe,{list:function(){return Object(a.jsx)(Se,{endPoinyUrl:"/rule/select",renderList:function(e){return e.map((function(e,t){return Object(a.jsx)(tt,{data:e,onClick:v},t)}))},filterLabel:"Type condition to filter rules",filterKey:"filterRuleQuery"})},detail:function(){return!1!==h?Object(a.jsx)(st,{data:h.data,onDelete:y}):!0===r?Object(a.jsx)(Je,{}):!1!==d?(t({message:d,type:"error",hideAfter:2e3}),""):void 0}})]})}));Object(U.b)((function(){return{}}),{showAlert:k})((function(e){var t=e.data,n=e.onClick,c=[{field:"scope",headerName:"Scope",flex:.3},{field:"name",headerName:"Name",flex:.3,renderCell:function(e){return Object(a.jsx)("span",{style:{textDecoration:"underline",cursor:"pointer"},onClickCapture:function(){return n(e.getValue("segmentId"))},children:e.value})}},{field:"description",headerName:"Description",flex:.4}];return Object(a.jsx)(Xe.a,{rows:t,rowHeight:35,pageSize:20,columns:c})}));function lt(e){var t=e.data,n=e.onDelete,c=i.a.useState(!1),r=Object(M.a)(c,2),s=r[0],o=r[1],l=function(e){var t=e.data;return"undefined"!==typeof t.uql?Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"WHEN"}),t.uql.condition]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"UQL create statement"}),t.uql.uql]})]}):""};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(_e,{label:t.meta.name}),Object(a.jsxs)("div",{className:"RightTabScroller",style:{height:"calc(100% - 161px)"},children:[Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"description"}),t.meta.description]}),Object(a.jsx)(l,{data:t}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"scope"}),t.meta.scope]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"metadata"}),Object(a.jsx)(rt,{index:"segment",id:t.meta.id,meta:t.meta})]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Raw UNOMI Data"}),Object(a.jsx)(Ae.a,{data:t,theme:we,expandLevel:3})]})]}),Object(a.jsxs)("div",{className:"DetailActionButtons",children:[Object(a.jsx)(Le.a,{onClick:function(){o(!0)},variant:"outlined",color:"primary",children:"Delete"}),Object(a.jsx)(We,{open:s,title:"Do you want to delete this segment?",content:"This action can not be undone.",onClose:function(){o(!1)},onAgree:function(){o(!1),n(t.meta.id)}})]})]})}n(528);function dt(e){var t=e.data,n=e.onClick;return Object(a.jsxs)("div",{onClick:function(e){n(t.segmentId)},className:"Card",children:[Object(a.jsx)("span",{className:"Avatar"+(t.enabled?" SegmentAvatarEnabled":" SegmentAvatarDisabled"),children:"S"}),Object(a.jsx)("span",{className:"scope",children:t.scope}),Object(a.jsx)("span",{className:"name",children:t.name})]})}var jt=n(608),ut=n(205),bt=n.n(ut);Object(U.b)((function(e){return{progressBar:e.progressReducer}}))((function(e){var t=e.progressBar,n=bt()((function(){return{root:{width:"100%"},progress:{background:"transparent"}}}))();return Object(a.jsx)("div",{className:n.root,children:Object(a.jsx)(jt.a,{className:n.progress,color:"secondary",variant:"determinate",value:t.progress})})}));var ht=Object(U.b)((function(e){return{notification:e.notificationReducer,uqlQuery:e.uqlReducer}}))((function(){var e=i.a.useState(!1),t=Object(M.a)(e,2),n=(t[0],t[1]),c=i.a.useState(!1),r=Object(M.a)(c,2),s=(r[0],r[1]),o=i.a.useState(!1),l=Object(M.a)(o,2),d=l[0],j=l[1],u=i.a.useState(!1),b=Object(M.a)(u,2),h=(b[0],b[1]),O=function(){},p=function(e){h(e),j(!1)},m=function(e){pe("/segment/"+e,n,s,j)},f=function(e){me("/segment/"+e,O,O,p)};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(ze,{buttons:[Object(a.jsx)(Ke,{buttonLabel:"Add segment",anchor:"right",width:1e3,caseId:"AddSegmentForm"})],children:Object(a.jsx)(Qe,{})}),Object(a.jsx)(xe,{list:function(){return Object(a.jsx)(Se,{endPoinyUrl:"/segment/select",renderList:function(e){return e.map((function(e,t){return Object(a.jsx)(dt,{data:e,onClick:m},t)}))},filterLabel:"Type condition to filter segments",filterKey:"segmentFilterQuery"})},detail:function(){if(0!=d)return Object(a.jsx)(lt,{data:d.data,onDelete:f})}})]})}));n(530);function Ot(e){var t=e.data,n=e.onClick;return Object(a.jsxs)("div",{onClick:function(e){n(t.profileId)},className:"Card",children:[Object(a.jsx)("span",{className:"Avatar ProfileAvatar",children:"P"}),Object(a.jsx)("span",{className:"name",children:t.profileId})]})}function pt(e){var t=e.data;return Object(a.jsxs)("div",{style:{height:"inherit"},children:[Object(a.jsx)(_e,{label:t.itemId}),Object(a.jsxs)("div",{className:"RightTabScroller",children:[Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Version"}),t.version]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Properties"}),Object(a.jsx)(Fe,{properties:t.properties})]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"System Properties"}),Object(a.jsx)(Fe,{properties:t.systemProperties})]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Segments"}),Object(a.jsx)(Fe,{properties:t.segments})]}),Object(a.jsxs)(Ne,{children:[Object(a.jsx)(Te,{children:"Raw Unomi data"}),Object(a.jsx)(Ae.a,{data:t,theme:we,expandLevel:3})]})]})]})}var mt=Object(U.b)((function(e){return{notification:e.notificationReducer}}))((function(){var e=i.a.useState(!1),t=Object(M.a)(e,2),n=(t[0],t[1]),c=i.a.useState(!1),r=Object(M.a)(c,2),s=(r[0],r[1]),o=i.a.useState(!1),l=Object(M.a)(o,2),d=l[0],j=l[1],u=function(e){pe("/profile/"+e,n,s,j)};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(ze,{children:Object(a.jsx)(Qe,{})}),Object(a.jsx)(xe,{list:function(){return Object(a.jsx)(Se,{endPoinyUrl:"/profile/select",renderList:function(e){return e.map((function(e,t){return Object(a.jsx)(Ot,{data:e,onClick:u},t)}))},filterLabel:"Type condition to filter profiles",filterKey:"filterProfileQuery"})},detail:function(){if(0!=d)return Object(a.jsx)(pt,{data:d.data})}})]})})),ft=(n(531),n(207)),xt=n.n(ft);n(532);function gt(e){var t=e.method,n=t.toUpperCase()+"Tag";return Object(a.jsx)("span",{className:n+" MethodTag",children:t.toUpperCase()})}n(533);function vt(e){var t=Object.assign({},e),n="StatusCode"+t.children;return Object(a.jsx)("span",{className:n+" StatusCodeTag",children:t.children})}var yt=n(210),St=n(206),Ct=n.n(St);var Nt=function(e){var t=e.uql,n=i.a.useState(!1),r=Object(M.a)(n,2),s=r[0],o=r[1],l=i.a.useState(!1),d=Object(M.a)(l,2),j=d[0],u=d[1],b=i.a.useState(!1),h=Object(M.a)(b,2),O=h[0],p=h[1],m=i.a.useState(!1),f=Object(M.a)(m,2),x=f[0],g=f[1],v=i.a.useState(!1),y=Object(M.a)(v,2),S=y[0],C=y[1],N=i.a.useState(!1),R=Object(M.a)(N,2),T=R[0],k=R[1],E=i.a.useState("OK"),w=Object(M.a)(E,2),A=w[0],_=w[1],L=i.a.useState(!1),I=Object(M.a)(L,2),P=I[0],D=I[1],F=function(e){C(e),D(!1),k(!1)};Object(c.useEffect)((function(){!function(e,t,n,a,c){(!(arguments.length>5&&void 0!==arguments[5])||arguments[5])&&(a(!1),c(!1),n(!0));try{he({"Content-type":"text/plain"}).post(t,e).then((function(e){n(!1),c({data:e.data})})).catch((function(e){n(!1),"undefined"!=typeof e.response?a(e.response.data.detail):a(e.message)}))}catch(i){a(i.message)}}(t,"/console/uql2unomi/request",p,g,F)}),[t]);var B,q=function(e){if(!1===e.error){var t=S;t.data.body=e.jsObject,C(t),_("OK"),D(!1)}else D(!0),_("ERROR "+e.error.reason+" (line: "+e.error.line+")")},U=function(e,t){return!0===t?Object(a.jsx)(Je,{}):!1!==x?Object(a.jsx)("pre",{children:x}):"undefined"!==typeof e.data?Object(a.jsx)(yt.a,{id:"a_unique_id",placeholder:e.data.body,locale:Ct.a,onChange:q,colors:{background:"transparent",default:"black",number:"green",keys:"rgb(68, 68, 68)",string:"rgb(0, 105, 192)",primitive:"rgb(170, 0, 0)",error:"darkred"},style:{body:{fontSize:"13px",lineHeight:"1.2"},warningBox:{background:"#ccc"},errorMessage:{fontSize:"15px",color:"black",margin:"-2px 0 0 0"}},width:"100%",height:"100%"}):void 0},H=function(e,t){if(!1===t&&"undefined"!==typeof e&&!1!==e)return Object(a.jsxs)(i.a.Fragment,{children:[e.data.method&&Object(a.jsx)(gt,{method:e.data.method}),e.data.url&&Object(a.jsxs)("span",{children:["URL: ",e.data.url]}),e.data.expectedStatus&&Object(a.jsxs)("span",{children:["EXPECT: ",Object(a.jsx)(vt,{children:e.data.expectedStatus})]})]})},W=function(e,t){if(!1===t&&"undefined"!==typeof e&&!1!==e)return Object(a.jsx)(i.a.Fragment,{children:e.data.status&&Object(a.jsxs)("span",{children:["RESPONSE: ",Object(a.jsx)(vt,{children:e.data.status})]})})},V=function(e){var t=e.disable,n="RunQuery";!0===t&&(n="DisableQuery");return Object(a.jsx)("div",{className:n,onClick:function(){!1!==S&&!1===t&&function(e,t,n,a,c){(!(arguments.length>5&&void 0!==arguments[5])||arguments[5])&&(a(!1),c(!1),n(!0));try{he({"Content-type":"application/json"}).post(t,e).then((function(e){n(!1),c({data:e.data})})).catch((function(e){n(!1),"undefined"!=typeof e.response?a(e.response.data.detail):a(e.message)}))}catch(i){a(i.message)}}(S.data,"/console/uql2unomi/response",o,u,k)},children:Object(a.jsx)(xt.a,{})})};return Object(a.jsxs)("div",{className:"QueryResponseColumns",children:[Object(a.jsx)("div",{className:"QueryResponseLeftColumn",children:(B=S,Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"RequestInfo",children:H(B,O)}),Object(a.jsx)("div",{className:"RequestBody",children:U(B,O)}),Object(a.jsx)("div",{className:"RequestStatus",children:A})]}))}),Object(a.jsx)(V,{disable:P}),Object(a.jsx)("div",{className:"QueryResponseRightColumn",children:function(e){return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"ResponseInfo",children:W(e,s)}),Object(a.jsx)("div",{className:"ResponseBody",children:(t=e,n=s,c=j,!0===n?Object(a.jsx)(Je,{}):!1!==c?Object(a.jsx)("pre",{children:c}):"undefined"!==typeof t.data?Object(a.jsx)(Ae.a,{data:t.data.body,theme:we,expandLevel:3}):void 0)}),Object(a.jsx)("div",{className:"ResponseStatus",children:"OK"})]});var t,n,c}(T)})]})},Rt=function(){var e=localStorage.getItem("consoleUql"),t=i.a.useState("undefined"!==typeof e?e:""),n=Object(M.a)(t,2),c=n[0],r=n[1];return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(ze,{children:Object(a.jsx)(Qe,{})}),Object(a.jsx)("div",{style:{margin:"7px 5px"},children:Object(a.jsx)(ye,{variant:"outlined",label:"UQL",onEnterPressed:function(e){r(e),localStorage.setItem("consoleUql",e)},initValue:c})}),Object(a.jsx)(Nt,{uql:c}),";"]})},Tt=n(154),kt=n.n(Tt),Et=n(208),wt=n(75),At=n(76),_t=n(87),Lt=n(86),It=n(155),Pt=n.n(It),Dt=function(e){Object(_t.a)(n,e);var t=Object(Lt.a)(n);function n(e){var a;return Object(wt.a)(this,n),a=t.call(this,e),Pt.a.setOptions({gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!0,smartLists:!0,smartypants:!1}),a}return Object(At.a)(n,[{key:"render",value:function(){var e=this.props.text,t=Pt()(e||"");return Object(a.jsx)("div",{children:Object(a.jsx)("div",{dangerouslySetInnerHTML:{__html:t}})})}}]),n}(i.a.Component),Ft=(n(536),function(e){var t=e.mdFile,r=Object(c.useState)(""),s=Object(M.a)(r,2),o=s[0],l=s[1];function d(){return(d=Object(Et.a)(kt.a.mark((function e(t){var a,c;return kt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(537)("./".concat(t,".md"));case 2:return a=e.sent,e.next=5,fetch(a.default);case 5:return c=e.sent,e.next=8,c.text();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){(function(e){return d.apply(this,arguments)})(t).then((function(e){l(e)}))})),Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(ze,{children:Object(a.jsx)(Qe,{})}),Object(a.jsx)("div",{className:"ManualPage",children:Object(a.jsx)(J,{style:{padding:10},children:Object(a.jsx)(Dt,{text:o})})})]})}),Bt=n(3),qt=n.n(Bt);function Ut(e){var t=e.children,n=e.caseId;return i.a.Children.map(t,(function(e){return n===e.props.id?e:""}))}function Mt(e){return e.children}function Ht(e){var t=e.children,n=e.toggle;return"undefined"===typeof n&&(n="1"),Object(a.jsx)(Ut,{caseId:Object({NODE_ENV:"production",PUBLIC_URL:"/app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENTERPRISE_VERSION,children:Object(a.jsx)(Mt,{id:n,children:t})})}function Wt(e){var t=e.children,n=Object(V.h)();return i.a.Children.map(t,(function(e){return n.pathname.substring(0,e.props.link.length)===e.props.link?e:""}))}function Vt(e){return e.children}Ut.propTypes={caseId:qt.a.string.isRequired},Mt.propTypes={id:qt.a.string.isRequired},Vt.propTypes={link:qt.a.string.isRequired};var zt=function(){return Object(a.jsxs)(J,{children:[Object(a.jsxs)(G,{children:[Object(a.jsx)(ne,{icon:Object(a.jsx)(Z.a,{}),title:"Home",link:"/app/home",defaultLink:"/app"}),Object(a.jsx)(ne,{icon:Object(a.jsx)($.a,{}),title:"Set-up",link:"/app/setup"}),Object(a.jsx)(ne,{icon:Object(a.jsx)(ee.a,{}),title:"Dev",link:"/app/dev"})]}),Object(a.jsx)(de,{exact:!0,path:"/app",roles:["unomi"],children:Object(a.jsxs)(X,{title:"Home",children:[Object(a.jsx)(Ht,{children:Object(a.jsx)(te,{link:"/app/home/overview",children:"Home"})}),Object(a.jsx)(te,{link:"/app/home/profiles",defaultLink:["/app/home","/app"],children:"Profiles"})]})}),Object(a.jsx)(de,{path:"/app/home",roles:["unomi"],children:Object(a.jsxs)(X,{title:"Home",children:[Object(a.jsx)(Ht,{children:Object(a.jsx)(te,{link:"/app/home/overview",children:"Home"})}),Object(a.jsx)(te,{link:"/app/home/profiles",defaultLink:["/app/home"],children:"Profiles"})]})}),Object(a.jsx)(de,{path:"/app/setup",roles:["unomi"],children:Object(a.jsxs)(X,{title:"Set-up",children:[Object(a.jsx)(te,{link:"/app/setup/sources",children:"Sources"}),Object(a.jsx)(te,{link:"/app/setup/events",defaultLink:["/app/setup"],children:"Events"}),Object(a.jsx)(te,{link:"/app/setup/rules",children:"Rules"}),Object(a.jsx)(te,{link:"/app/setup/segments",children:"Segments"})]})}),Object(a.jsx)(de,{path:"/app/dev",roles:["unomi"],children:Object(a.jsxs)(X,{title:"Dev",children:[Object(a.jsx)(te,{link:"/app/dev/console",defaultLink:["/app/dev"],children:"Console"}),Object(a.jsx)(te,{link:"/app/dev/manual/uql",children:"UQL Manual"}),Object(a.jsx)(Wt,{children:Object(a.jsxs)(Vt,{link:"/app/dev/manual/uql",children:[Object(a.jsx)(te,{link:"/app/dev/manual/uql/select",children:"> Select UQL"}),Object(a.jsx)(te,{link:"/app/dev/manual/uql/create",children:"> Create UQL"}),Object(a.jsx)(te,{link:"/app/dev/manual/uql/delete",children:"> Delete UQL"})]})})]})}),Object(a.jsx)(Y,{children:Object(a.jsx)("div",{className:"contentPane",children:Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(de,{path:"/app/home/profiles",roles:["unomi"],children:Object(a.jsx)(mt,{})}),Object(a.jsx)(de,{exact:!0,path:"/app/home",roles:["unomi"],children:Object(a.jsx)(mt,{})}),Object(a.jsx)(de,{exact:!0,path:"/app",roles:["unomi"],children:Object(a.jsx)(mt,{})}),Object(a.jsx)(de,{path:"/app/setup/sources",roles:["unomi"],children:Object(a.jsx)(Ye,{})}),Object(a.jsx)(de,{path:"/app/setup/events",roles:["unomi"],children:Object(a.jsx)(et,{})}),Object(a.jsx)(de,{path:"/app/setup/rules",roles:["unomi"],children:Object(a.jsx)(ot,{})}),Object(a.jsx)(de,{path:"/app/setup/segments",roles:["unomi"],children:Object(a.jsx)(ht,{})}),Object(a.jsx)(de,{exact:!0,path:"/app/setup",roles:["unomi"],children:Object(a.jsx)(et,{})}),Object(a.jsx)(de,{path:"/app/dev/console",roles:["unomi"],children:Object(a.jsx)(Rt,{})}),Object(a.jsx)(de,{exact:!0,path:"/app/dev",roles:["unomi"],children:Object(a.jsx)(Rt,{})}),Object(a.jsx)(V.b,{exact:!0,path:"/app/dev/manual/uql/select",children:Object(a.jsx)(Ft,{mdFile:"uql/select"})}),Object(a.jsx)(V.b,{exact:!0,path:"/app/dev/manual/uql/create",children:Object(a.jsx)(Ft,{mdFile:"uql/create"})}),Object(a.jsx)(V.b,{exact:!0,path:"/app/dev/manual/uql/delete",children:Object(a.jsx)(Ft,{mdFile:"uql/delete"})}),Object(a.jsx)(V.b,{exact:!0,path:"/app/dev/manual/uql",children:Object(a.jsx)(Ft,{mdFile:"start"})})]})})})]})};function Kt(){return ie(),Object(a.jsx)(V.a,{to:"/app/login"})}var Qt=n(629),Gt=n(552),Jt=n(220),Yt=n(613),Xt=n(614),Zt=n(209),$t=n.n(Zt),en=n(612);function tn(e,t,n){if(n=n||[],"object"==typeof e)for(var a in e)tn(e[a],t?t+"["+a+"]":a,n);else n.push(t+"="+encodeURIComponent(e));return n.join("&")}var nn=function(e,t){var n={username:e,password:t};return he({"Content-Type":"application/x-www-form-urlencoded"}).post("/token",tn(n))},an=n(131),cn=n(84),rn=Object(cn.a)({palette:{primary:{main:"#19857b"},secondary:{main:"#EF6C00"},error:{main:an.a.A400},background:{default:"#ccc"},text:{primary:"#000"}}}),sn=Object(cn.a)({palette:{primary:{main:"#19857b"},secondary:{light:"#cF5C00",main:"#EF6C00",contrastText:"#ffcc00"},background:{default:"#fff"},text:{primary:"#000"}}});Object(cn.a)({palette:{primary:{main:"#fff"},secondary:{light:"#fff",main:"#fff",contrastText:"#ffcc00"},background:{default:"#2196f3",paper:"inherit"},text:{primary:"#fff",secondary:"#bbb",disabled:"#999"}}});function on(){return Object(a.jsxs)(se.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(a.jsx)(oe.a,{color:"inherit",href:"http://tracardi.com/",children:"TRACARDI"})," ",(new Date).getFullYear(),"."]})}var ln=Object(ve.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"10px 20px",backgroundColor:"white",borderRadius:"5px",color:"black"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},input:{color:"black"},submit:{margin:e.spacing(3,0,2)}}})),dn=Object(U.b)(null,{showAlert:k})((function(e){var t=e.showAlert,n=ln(),i=Object(c.useState)(""),r=Object(M.a)(i,2),s=r[0],o=r[1],l=Object(c.useState)(""),d=Object(M.a)(l,2),j=d[0],u=d[1],b=Object(c.useState)(!1),h=Object(M.a)(b,2),O=h[0],p=h[1],m=(Object(V.h)().state||{from:{pathname:"/app/home"}}).from,f=Object(c.useState)(!1),x=Object(M.a)(f,2),g=x[0],v=x[1];return g?Object(a.jsx)(V.a,{to:m}):Object(a.jsx)(nt.a,{theme:sn,children:Object(a.jsx)(en.a,{component:"main",maxWidth:"xs",children:Object(a.jsxs)("div",{className:n.paper,children:[Object(a.jsx)(Qt.a,{className:n.avatar,children:Object(a.jsx)($t.a,{})}),Object(a.jsx)(se.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(a.jsxs)("form",{onSubmitCapture:function(e){nn(s,j).then((function(e){var t,n;t=e.data.access_token,localStorage.setItem("auth-token",t),n=e.data.roles,localStorage.setItem("auth-roles",JSON.stringify(n)),v(!0)})).catch((function(e){var n=e.message;"undefined"==typeof e.response?n="Api unavailable.":422===e.response.status?n="Bag request. Fill all fields.":"string"==typeof e.response.data.detail&&(n=e.response.data.detail),t({type:"error",message:n})})),e.preventDefault()},className:n.form,noValidate:!0,children:[Object(a.jsx)(ge.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){o(e.target.value)}}),Object(a.jsx)(ge.a,{style:{color:"black"},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){u(e.target.value)}}),Object(a.jsx)(Gt.a,{control:Object(a.jsx)(Jt.a,{value:"remember",color:"primary",onChange:function(e){p(e.target.checked)},checked:O}),label:"Remember me"}),Object(a.jsx)(Le.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Sign In"}),Object(a.jsxs)(Yt.a,{container:!0,children:[Object(a.jsx)(Yt.a,{item:!0,xs:!0,children:Object(a.jsx)(oe.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(a.jsx)(Yt.a,{item:!0})]})]}),Object(a.jsx)(Xt.a,{mt:8,children:Object(a.jsx)(on,{})})]})})})})),jn=n(628);var un=Object(U.b)((function(e){return{data:e.rightPaperReducer}}),{closeRightPaper:f})((function(e){var t=e.open,n=e.closeRightPaper,c=e.data,i=e.children;return Object(a.jsx)(jn.a,{anchor:c.anchor,open:t,onClose:function(){n()},children:"right"==c.anchor||"left"==c.anchor?Object(a.jsx)("div",{style:{width:c.width},children:i}):Object(a.jsx)("div",{style:{height:c.width},children:i})})})),bn=n(627),hn=n(616),On=n(625),pn=n(626),mn=n(90),fn=n(548),xn=n(615),gn=(n(194),Object(ve.a)((function(e){return{root:{width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3),paddingBottom:e.spacing(3)},formControl:{margin:e.spacing(1)}}})));function vn(e){var t=e.name,n=e.value;return Object(a.jsxs)("div",{style:{paddingLeft:"5px"},children:[Object(a.jsxs)("div",{style:{fontWeight:400,minWidth:100,display:"inline-block",padding:5},children:[t,":"]}),Object(a.jsx)("span",{style:{padding:5,borderBottom:"solid 1px #ccc",display:"inline-block",minWidth:450},children:n})]})}function yn(e){var t=e.conditionValue,n=e.handleConditionChange;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"description",children:"Condition is SQL like condition that describes when the rule should be triggered. Please refer to documentation to see the syntax of conditions."}),Object(a.jsx)(ge.a,{id:"rule-condition",label:"Rule condition",multiline:!0,size:"small",variant:"outlined",value:t,onChange:n}),Object(a.jsx)(fn.a,{children:'Example: (scope="my-site1" OR scope="my-site2") AND event:type="view"'})]})}function Sn(e){var t=e.descValue,n=e.handleDescChange;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"description",children:"Rule description can be any string that describes rule's purpose. It corresponds with the action that will fire when condition is met."}),Object(a.jsx)(ge.a,{id:"rule-desc",label:"Rule description",variant:"outlined",size:"small",value:t,onChange:n}),Object(a.jsx)(fn.a,{children:"Example: Add points to loyalty card with every purchase"})]})}function Cn(e){var t=e.nameValue,n=e.handleNameChange,c=e.scope,r=e.handleScopeChange;gn();return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"description",children:"Set scope and rule name. Scope is an id of your site and rule name can be any string that identifies rule. Rule id is made out of rule name by replacing spaces with hyphens and lowering the string."}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsxs)("div",{style:{marginRight:10},children:[Object(a.jsx)(ge.a,{required:!0,label:"Scope",value:c,onChange:r,variant:"outlined",size:"small"}),Object(a.jsx)(fn.a,{children:"Scope"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(ge.a,{required:!0,label:"Rule name",variant:"outlined",size:"small",value:t,onChange:n}),Object(a.jsx)(fn.a,{children:"Example: points with every purchase"})]})]})]})}function Nn(e){var t=e.actionValue,n=e.handleActionChange;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"description",children:"Rule actions is a set of predefined actions that will fire when the condition is fulfilled."}),Object(a.jsx)(ge.a,{id:"rule-action",label:"Rule action",multiline:!0,variant:"outlined",size:"small",value:t,onChange:n}),Object(a.jsx)(fn.a,{children:"Example: IncreaseLoyalityCardPoints(100), CopyEventsToProfileProperties()"})]})}function Rn(e){var t=e.scope,n=e.name,c=e.desc,r=e.condition,s=e.action,o=e.handleReset,l=gn(),d=i.a.useState(!1),j=Object(M.a)(d,2),u=j[0],b=(j[1],i.a.useState(!1)),h=Object(M.a)(b,2),O=h[0],p=h[1],m=function(e){p(e)},f=i.a.useState(""),x=Object(M.a)(f,2),g=x[0],v=x[1],y=i.a.useState(""),S=Object(M.a)(y,2),C=S[0],N=S[1],R=function(e){v(e)},T=function(e){N(e)};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{children:"All steps completed - here is your rule summary"}),Object(a.jsxs)("div",{style:{marginTop:20},children:[Object(a.jsx)(vn,{name:"Scope",value:t}),Object(a.jsx)(vn,{name:"Name",value:n}),Object(a.jsx)(vn,{name:"Description",value:c}),Object(a.jsx)(vn,{name:"Condition",value:r}),Object(a.jsx)(vn,{name:"Actions",value:s})]}),function(e,t){if(""!==e)return Object(a.jsxs)(K.a,{severity:t,style:{marginTop:20},children:[Object(a.jsx)(xn.a,{children:t.toUpperCase()}),Object(a.jsx)("pre",{style:{width:"515px",overflow:"auto"},children:e})]})}(g,C),Object(a.jsxs)("div",{style:{marginTop:10},children:[Object(a.jsx)(Le.a,{onClick:function(){!function(e,t,n,a){try{t(),he({"Content-type":"application/json"}).post("/rule",e).then((function(e){n({data:e.data})})).catch((function(e){a(e)}))}catch(c){a(c)}}({scope:t,name:n,desc:c,condition:r,action:s},(function(){m(!0),T("loading"),R("Loading")}),(function(e){console.log(e),T("success"),R("Rule created."),m(!1)}),(function(e){m(!1),T("error"),"undefined"!=typeof e.response?R(e.response.data.detail):R(e.toString())}))},className:l.button,variant:"contained",color:"primary",disabled:O,children:"Submit"}),Object(a.jsx)(Le.a,{onClick:function(){o(),m(!1)},className:l.button,disabled:u,children:"Back"})]})]})}function Tn(){var e=gn(),t=i.a.useState(0),n=Object(M.a)(t,2),c=n[0],r=n[1],s=i.a.useState(""),o=Object(M.a)(s,2),l=o[0],d=o[1],j=function(e){d(e.target.value)},u=i.a.useState(""),b=Object(M.a)(u,2),h=b[0],O=b[1],p=function(e){O(e.target.value)},m=i.a.useState(""),f=Object(M.a)(m,2),x=f[0],g=f[1],v=function(e){g(e.target.value)},y=i.a.useState(""),S=Object(M.a)(y,2),C=S[0],N=S[1],R=function(e){N(e.target.value)},T=i.a.useState(""),k=Object(M.a)(T,2),E=k[0],w=k[1],A=function(e){w(e.target.value)},_=["Select scope and rule name","Type rule description","Create condition","Create action","Submit rule"],L=function(){r((function(e){return e+1}))},I=function(){r((function(e){return e-1}))},P=function(){I()},D=function(e){switch(e){case 0:return Object(a.jsx)(Cn,{nameValue:C,handleNameChange:R,scope:l,handleScopeChange:j});case 1:return Object(a.jsx)(Sn,{descValue:E,handleDescChange:A});case 2:return Object(a.jsx)(yn,{conditionValue:h,handleConditionChange:p});case 3:return Object(a.jsx)(Nn,{actionValue:x,handleActionChange:v});case 4:return Object(a.jsx)(Rn,{scope:l,name:C,desc:E,condition:h,action:x,handleReset:P});default:return"Unknown step"}},F=function(){if(c<_.length-1)return Object(a.jsxs)(i.a.Fragment,{children:[0!==c&&Object(a.jsx)(Le.a,{disabled:0===c,onClick:I,className:e.button,children:"Back"}),Object(a.jsx)(Le.a,{variant:"contained",color:"primary",onClick:L,className:e.button,children:"Next"})]})};return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(bn.a,{activeStep:c,orientation:"vertical",children:_.map((function(t,n){return Object(a.jsxs)(hn.a,{onClickCapture:function(){r(n)},children:[Object(a.jsx)(On.a,{children:t}),Object(a.jsxs)(pn.a,{children:[Object(a.jsx)(mn.a,{className:e.formControl,children:D(n)}),Object(a.jsx)("div",{className:e.actionsContainer,children:Object(a.jsx)("div",{children:F()})})]})]},t)}))})})}function kn(e){var t=e.name,n=e.value;return Object(a.jsxs)("div",{style:{paddingLeft:"5px"},children:[Object(a.jsxs)("div",{style:{fontWeight:400,minWidth:100,display:"inline-block",padding:5},children:[t,":"]}),Object(a.jsx)("span",{style:{padding:5,borderBottom:"solid 1px #ccc",display:"inline-block",minWidth:450},children:n})]})}var En=Object(ve.a)((function(e){return{root:{width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3),paddingBottom:e.spacing(3)},formControl:{margin:e.spacing(1)}}}));function wn(e){var t=e.conditionValue,n=e.handleConditionChange;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)("div",{className:"description",children:[Object(a.jsx)("b",{children:"Condition"})," is SQL like condition that describes when the segment should be triggered. Please refer to documentation to see the syntax of conditions. Segment condition is ",Object(a.jsx)("b",{children:"required field"}),"."]}),Object(a.jsx)(ge.a,{required:!0,variant:"outlined",size:"small",label:"Segment condition",multiline:!0,value:t,onChange:n}),Object(a.jsx)(fn.a,{children:"Example: properties.visits>10"})]})}function An(e){var t=e.descValue,n=e.handleDescChange;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)("div",{className:"description",children:[Object(a.jsx)("b",{children:"Segment description"})," can be any string that describes the meaning of segment. For example the segment can be a group of frequent customers. Segment description is ",Object(a.jsx)("b",{children:"required field"}),"."]}),Object(a.jsx)(ge.a,{variant:"outlined",size:"small",label:"Segemnt description",value:t,onChange:n}),Object(a.jsx)(fn.a,{children:"Example: Frequent customers who made purchase at least 3 time a month."})]})}function _n(e){var t=e.nameValue,n=e.handleNameChange,c=e.scope,r=e.handleScopeChange;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)("div",{className:"description",children:["Set ",Object(a.jsx)("b",{children:"scope and segment name"}),". ",Object(a.jsx)("b",{children:"Scope"})," is an id of your site and ",Object(a.jsx)("b",{children:"segment"})," name can be any string that identifies segment. Segment name is ",Object(a.jsx)("b",{children:"required field"}),". Segemnt id is made out of segment name by replacing spaces with hyphens and lowering the string."]}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsxs)("div",{style:{marginRight:10},children:[Object(a.jsx)(ge.a,{required:!0,label:"Scope",value:c,onChange:r,variant:"outlined",size:"small"}),Object(a.jsx)(fn.a,{children:"Example: site-1"})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)(ge.a,{required:!0,variant:"outlined",size:"small",label:"Segment name",value:t,onChange:n}),Object(a.jsx)(fn.a,{children:"Example: Frequent customers"})]})]})]})}function Ln(e){var t=e.scope,n=e.name,c=e.desc,r=e.condition,s=e.handleReset,o=En(),l=i.a.useState(!1),d=Object(M.a)(l,2),j=d[0],u=(d[1],i.a.useState(!1)),b=Object(M.a)(u,2),h=b[0],O=b[1],p=function(e){O(e)},m=i.a.useState(""),f=Object(M.a)(m,2),x=f[0],g=f[1],v=i.a.useState(""),y=Object(M.a)(v,2),S=y[0],C=y[1],N=function(e){g(e)},R=function(e){C(e)};return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(se.a,{children:"All steps completed - here is your segment summary"}),Object(a.jsxs)("div",{style:{marginTop:20},children:[Object(a.jsx)(kn,{name:"Scope",value:t}),Object(a.jsx)(kn,{name:"Name",value:n}),Object(a.jsx)(kn,{name:"Description",value:c}),Object(a.jsx)(kn,{name:"Condition",value:r})]}),function(e,t){if(""!==e)return Object(a.jsxs)(K.a,{severity:t,style:{marginTop:20},children:[Object(a.jsx)(xn.a,{children:t.toUpperCase()}),Object(a.jsx)("pre",{style:{width:"515px",overflow:"auto"},children:e})]})}(x,S),Object(a.jsxs)("div",{style:{marginTop:10},children:[Object(a.jsx)(Le.a,{onClick:function(){!function(e,t,n,a){try{t(),he({"Content-type":"application/json"}).post("/segment",e).then((function(e){n({data:e.data})})).catch((function(e){a(e)}))}catch(c){a(c)}}({scope:t,name:n,desc:c,condition:r},(function(){p(!0),R("loading"),N("Loading")}),(function(e){R("success"),N("Segment created."),p(!1)}),(function(e){p(!1),R("error"),"undefined"!=typeof e.response?N(e.response.data.detail):N(e.toString())}))},className:o.button,variant:"contained",color:"primary",disabled:h,children:"Submit"}),Object(a.jsx)(Le.a,{onClick:function(){s(),p(!1)},className:o.button,disabled:j,children:"Back"})]})]})}function In(){var e=En(),t=i.a.useState(0),n=Object(M.a)(t,2),c=n[0],r=n[1],s=i.a.useState(""),o=Object(M.a)(s,2),l=o[0],d=o[1],j=function(e){d(e.target.value)},u=i.a.useState(""),b=Object(M.a)(u,2),h=b[0],O=b[1],p=function(e){O(e.target.value)},m=i.a.useState(""),f=Object(M.a)(m,2),x=f[0],g=f[1],v=function(e){g(e.target.value)},y=i.a.useState(""),S=Object(M.a)(y,2),C=S[0],N=S[1],R=function(e){N(e.target.value)},T=["Select scope and segment name","Type segemnt description","Create condition","Submit segment"],k=function(){r((function(e){return e+1}))},E=function(){r((function(e){return e-1}))},w=function(){E()},A=function(e){switch(e){case 0:return Object(a.jsx)(_n,{nameValue:x,handleNameChange:v,scope:l,handleScopeChange:j});case 1:return Object(a.jsx)(An,{descValue:C,handleDescChange:R});case 2:return Object(a.jsx)(wn,{conditionValue:h,handleConditionChange:p});case 3:return Object(a.jsx)(Ln,{scope:l,name:x,desc:C,condition:h,handleReset:w});default:return"Unknown step"}},_=function(){if(c<T.length-1)return Object(a.jsxs)(i.a.Fragment,{children:[0!==c&&Object(a.jsx)(Le.a,{disabled:0===c,onClick:E,className:e.button,children:"Back"}),Object(a.jsx)(Le.a,{variant:"contained",color:"primary",onClick:k,className:e.button,children:"Next"})]})};return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(bn.a,{activeStep:c,orientation:"vertical",children:T.map((function(t,n){return Object(a.jsxs)(hn.a,{onClickCapture:function(){r(n)},children:[Object(a.jsx)(On.a,{children:t}),Object(a.jsxs)(pn.a,{children:[Object(a.jsx)(mn.a,{className:e.formControl,children:A(n)}),Object(a.jsx)("div",{className:e.actionsContainer,children:Object(a.jsx)("div",{children:_()})})]})]},t)}))})})}n(538);function Pn(){var e=Object(c.useState)(!1),t=Object(M.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),o=Object(M.a)(s,2),l=o[0],d=o[1],j=Object(c.useState)(""),u=Object(M.a)(j,2),b=u[0],h=u[1],O=Object(c.useState)("http://localhost:8181"),p=Object(M.a)(O,2),m=p[0],f=p[1],x=function(e){h(e.target.value)},g=function(e){d(e.target.value)},v=function(e){f(e.target.value)},y=function(){he({"Content-type":"application/json"}).post("source",{name:l,hostname:m,scope:l}).then((function(e){r(!0),E()})).catch((function(e){r(!1)}))},S=function(){return n?Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(se.a,{variant:"h6",children:"Scope created"}),Object(a.jsx)("div",{className:"ScopeDesc",style:{marginTop:20},children:"Please find tracker javascript code in your scope tracker tab and paste it in your head tag of your web page. "})]}):""};var C=i.a.useState(0),N=Object(M.a)(C,2),R=N[0],T=N[1],k=["Type scope","Type context server api host","Tracker code"],E=function(){T((function(e){return e+1}))},w=function(){T((function(e){return e-1}))},A=function(){if(R<k.length-2)return Object(a.jsxs)(i.a.Fragment,{children:[0!==R&&Object(a.jsx)(Le.a,{disabled:0===R,onClick:w,className:"Button",children:"Back"}),Object(a.jsx)(Le.a,{variant:"contained",color:"primary",onClick:E,className:"Button",children:"Next"})]})},_=function(e){switch(e){case 0:return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"ScopeDesc",children:"Type source scope and name. Scope is usually a namespace for all your events and it is associated with your file or business activity."}),Object(a.jsxs)("div",{style:{marginBottom:20},children:[Object(a.jsx)(ge.a,{variant:"outlined",size:"small",onChange:g,value:l,label:"Scope",style:{marginRight:5}}),Object(a.jsx)(ge.a,{variant:"outlined",size:"small",onChange:x,value:b,label:"Name"})]})]});case 1:return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"ScopeDesc",children:"Tracker API URL is a host name and port where the context server api is located. Usually it is http://localhost:8181 or for dockerized platforms http://context-server:8181."}),Object(a.jsx)("div",{style:{marginBottom:20,width:"80%"},children:Object(a.jsx)(ge.a,{variant:"outlined",size:"small",onChange:v,label:"Tracker API",value:m})}),Object(a.jsx)(Le.a,{onClick:y,variant:"contained",color:"primary",children:"Submit"})]});case 2:return Object(a.jsx)(S,{});default:return"Unknown step"}};return Object(a.jsx)(bn.a,{activeStep:R,orientation:"vertical",children:k.map((function(e,t){return Object(a.jsxs)(hn.a,{onClickCapture:function(){T(t)},children:[Object(a.jsx)(On.a,{children:e}),Object(a.jsxs)(pn.a,{children:[Object(a.jsx)(mn.a,{children:_(t)}),Object(a.jsx)("div",{children:Object(a.jsx)("div",{children:A()})})]})]},e)}))})}n(539);var Dn=n(617),Fn=n(618),Bn=n(619),qn=n(620);n(540);function Un(e){var t=e.icon,n=e.title,c=e.link,i=e.onClick;return Object(a.jsxs)("a",{className:"SocialButton",href:c,onClick:i,children:[Object(a.jsx)("span",{className:"Icon",children:t}),Object(a.jsx)("span",{className:"Label",children:n})]})}function Mn(e){var t=e.onClick;return Object(a.jsx)("div",{className:"SocialSplashRoot",children:Object(a.jsxs)("div",{className:"SocialSplash",children:[Object(a.jsx)("div",{className:"Image",children:Object(a.jsx)("img",{src:"/app/splash.svg"})}),Object(a.jsxs)("div",{className:"Content",children:[Object(a.jsxs)("div",{className:"Title",children:["Welcome to ",Object(a.jsx)("span",{className:"Brand",children:"Tracardi"})]}),Object(a.jsx)("div",{className:"Tag",children:"Graphic User Interface for Apache Unomi"}),Object(a.jsxs)("div",{className:"Message",children:[Object(a.jsx)("p",{children:"We are still early, but we release this version so you can share your experience with us. "}),Object(a.jsxs)("p",{children:["If you would like to support us please follow us on ",Object(a.jsx)(Un,{icon:Object(a.jsx)(Dn.a,{}),title:"Facebook",link:"https://www.facebook.com/TRACARDI/"})," or ",Object(a.jsx)(Un,{icon:Object(a.jsx)(Fn.a,{}),title:"Twitter",link:"https://twitter.com/tracardi"}),"and leave your comments. Subscribe to our ",Object(a.jsx)(Un,{icon:Object(a.jsx)(Bn.a,{}),title:"Youtube",link:"https://www.youtube.com/channel/UC0atjYqW43MdqNiSJBvN__Q"})," channel to see development process and new upcoming features."]})]}),Object(a.jsx)("div",{className:"Continue",children:Object(a.jsx)(Un,{icon:Object(a.jsx)(qn.a,{}),title:"Continue",onClick:t})})]})]})})}n(541);var Hn=n(621);var Wn=Object(U.b)((function(e){return{data:e.rightPaperReducer}}),{closeRightPaper:f})((function(e){var t=e.children,n=e.closeRightPaper;return Object(a.jsxs)("div",{className:"RightPaperHeader",children:[Object(a.jsx)("span",{className:"Label",children:t}),Object(a.jsx)(Hn.a,{onClick:function(){return n()},style:{cursor:"pointer"}})]})}));function Vn(e){return Object(a.jsx)(K.a,Object(H.a)({elevation:6,variant:"filled"},e))}var zn=Object(U.b)((function(e){return{alert:e.alertReducer,rightPaper:e.rightPaperReducer}}))((function(e){var t=e.alert,n=e.rightPaper,i=Object(c.useState)(!0),r=Object(M.a)(i,2),s=r[0],o=r[1],l=Object(U.c)(),d=function(){l(E())},j=function(){o(!1)};return s?Object(a.jsx)(Mn,{onClick:j}):Object(a.jsxs)(W.a,{children:[Object(a.jsxs)(V.d,{children:[Object(a.jsx)(V.b,{exact:!0,path:"/app/login",children:Object(a.jsx)(dn,{})}),Object(a.jsx)(V.b,{exact:!0,path:"/app/logout",children:Object(a.jsx)(Kt,{})}),Object(a.jsx)(de,{path:"/app",roles:["unomi"],children:Object(a.jsx)(zt,{})})]}),Object(a.jsx)(z.a,{open:t.show,autoHideDuration:t.hideAfter,onClose:d,children:Object(a.jsx)(Vn,{onClose:d,severity:t.type,children:Object(a.jsx)("pre",{style:{margin:0,overflow:"auto",maxWidth:"500px"},children:t.message})})}),Object(a.jsx)(un,{open:n.open,children:Object(a.jsxs)(Ut,{caseId:n.caseId,children:[Object(a.jsxs)(Mt,{id:"AddSourceForm",children:[Object(a.jsxs)(Wn,{children:[Object(a.jsx)("span",{style:{fontWeight:700},children:"Create"}),"\xa0source"]}),Object(a.jsx)(Pn,{})]}),Object(a.jsxs)(Mt,{id:"AddRuleForm",children:[Object(a.jsxs)(Wn,{children:[Object(a.jsx)("span",{style:{fontWeight:700},children:"Create"}),"\xa0rule"]}),Object(a.jsx)(Tn,{})]}),Object(a.jsxs)(Mt,{id:"AddSegmentForm",children:[Object(a.jsxs)(Wn,{children:[Object(a.jsx)("span",{style:{fontWeight:700},children:"Create"}),"\xa0segment"]}),Object(a.jsx)(In,{})]})]})})]})}));o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(U.a,{store:q,children:Object(a.jsxs)(nt.a,{theme:rn,children:[Object(a.jsx)(r.a,{}),Object(a.jsx)(zn,{})]})})}),document.querySelector("#root")),l()},82:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){}},[[542,1,2]]]);
//# sourceMappingURL=main.8f5f25ed.chunk.js.map