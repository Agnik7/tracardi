[
  {
    "name": "Product Search Result",
    "description": "Customer viewed a product list or product category.",
    "id": "product-search-result",
    "properties": {
      "type": "product",
      "query": "string",
      "filters": [
        {
          "key": "string",
          "value": "string"
        }
      ],
      "sorting": [
        {
          "key": "string",
          "order": "string"
        }
      ],
      "products": [
        {
          "id": "string",
          "sku": "string",
          "name": "string",
          "category": "string",
          "url": {
            "image": "url",
            "page": "url"
          },
          "price": "float"
        }
      ]
    },
    "event": {
      "query.type": "type",
      "query.name": "query"
    }
  },
  {
    "name": "Promotion Viewed",
    "description": "Customer viewed promotion banner or text.",
    "id": "promotion-viewed",
    "properties": {
      "id": "string",
      "name": "string",
      "media": {
        "text": "string",
        "image": "string"
      }
    },
    "event": {
      "promotion.id": "id",
      "promotion.name": "name"
    }
  },
  {
    "name": "Promotion Clicked",
    "description": "Customer clicked on promotion banner.",
    "id": "promotion-clicked",
    "properties": {
      "id": "string",
      "name": "string",
      "url": {
        "image": "url",
        "page": "url"
      }
    }
  },
  {
    "name": "Product Clicked",
    "description": "Customer clicked on a product.",
    "id": "product-clicked",
    "properties": {
      "id": "string",
      "name": "string",
      "sku": "string",
      "category": "string",
      "brand": "string",
      "variant": {
        "name": "string",
        "color": "string",
        "size": "string"
      },
      "price": "float",
      "quantity": "int",
      "position": "int",
      "url": {
        "image": "url",
        "page": "url"
      }
    },
    "event": {
      "product.id": "id",
      "product.name": "name",
      "product.sku": "sku",
      "product.category": "category",
      "product.brand": "brand",
      "product.variant": "variant",
      "product.price": "price",
      "product.quantity": "quantity",
      "product.position": "position"
    }
  },
  {
    "name": "Product Details Page View",
    "description": "Customer viewed a product details page.",
    "id": "product-details-page-view",
    "properties": {
      "id": "string",
      "name": "string",
      "sku": "string",
      "category": "string",
      "brand": "string",
      "variant": {
        "name": "string",
        "color": "string",
        "size": "string"
      },
      "price": "float",
      "quantity": "int",
      "url": {
        "image": "url",
        "page": "url"
      }
    },
    "event": {
      "product.id": "id",
      "product.name": "name",
      "product.sku": "sku",
      "product.category": "category",
      "product.brand": "brand",
      "product.variant": "variant",
      "product.price": "price",
      "product.quantity": "quantity"
    }
  },
  {
    "name": "Basket Viewed",
    "description": "Customer viewed their shopping cart",
    "id": "basket-viewed",
    "properties": {
      "id": "string"
    }
  },
  {
    "name": "Product Added To Basket",
    "description": "Customer added a product to their shopping cart",
    "id": "product-added-to-basket",
    "properties": {
      "id": "string",
      "name": "string",
      "sku": "string",
      "category": "string",
      "brand": "string",
      "variant": {
        "name": "string",
        "color": "string",
        "size": "string"
      },
      "price": "float",
      "quantity": "int",
      "url": {
        "image": "url",
        "page": "url"
      }
    },
    "event": {
      "product.id": "id",
      "product.name": "name",
      "product.sku": "sku",
      "product.category": "category",
      "product.brand": "brand",
      "product.variant": "variant",
      "product.price": "price",
      "product.quantity": "quantity"
    }
  },
  {
    "name": "Product Removed From Basket",
    "description": "Customer removed a product from their shopping cart",
    "id": "product-removed-from-basket",
    "properties": {
      "id": "string",
      "name": "string",
      "sku": "string",
      "category": "string",
      "brand": "string",
      "variant": {
        "name": "string",
        "color": "string",
        "size": "string"
      },
      "price": "float",
      "quantity": "int",
      "url": {
        "image": "url",
        "page": "url"
      }
    },
    "event": {
      "product.id": "id",
      "product.name": "name",
      "product.sku": "sku",
      "product.category": "category",
      "product.brand": "brand",
      "product.variant": "variant",
      "product.price": "price",
      "product.quantity": "quantity"
    }
  },
  {
    "name": "Checkout Started",
    "description": "Customer initiated the checkout process.",
    "id": "checkout-started",
    "const": {
      "id": "[local.storage:set,__tr_checkout_id]",
      "status": "started"
    },
    "properties": {
      "id": "string",
      "order_id": "string",
      "currency": "string",
      "value": "string",
      "coupon": "string"
    },
    "event": {
      "checkout.id": "id",
      "order.id": "order_id",
      "checkout.status": "status",
      "checkout.currency": "currency",
      "checkout.value": "value",
      "checkout.coupon": "coupon"
    }
  },
  {
    "name": "Checkout Completed",
    "description": "Customer completed the check-out process.",
    "id": "checkout-completed",
    "const": {
      "id": "[local.storage:read,__tr_checkout_id]",
      "status": "completed"
    },
    "properties": {
      "id": "string"
    },
    "event": {
      "checkout.id": "id",
      "checkout.status": "status"
    }
  },
  {
    "name": "Checkout Status",
    "description": "Customer completed a checkout step. Status changed.",
    "id": "checkout-status",
    "const": {
      "id": "[local.storage:read,__tr_checkout_id]"
    },
    "properties": {
      "id": "string",
      "status": "string"
    },
    "event": {
      "checkout.id": "id",
      "checkout.status": "status"
    }
  },

  {
    "name": "Delivery Info Entered",
    "description": "Customer added delivery information",
    "id": "delivery-info-entered",
    "properties": {
      "order_id": "string",
      "method": "string",
      "receiver": "string",
      "delivery": {
        "town": "string",
        "county": "string",
        "country": "string",
        "postcode": "string",
        "street": "string"
      }
    },
    "event": {
      "order.id": "id",
      "payment.method": "method",
      "order.receiver": "receiver",
      "contact.address.town": "delivery.town",
      "contact.address.county": "delivery.county",
      "contact.address.country": "delivery.country",
      "contact.address.postcode": "delivery.postcode",
      "contact.address.street": "delivery.street"
    },
    "profile": {
      "data.contact.address.town": ["traits.contact.address.town", "equals"],
      "data.contact.address.county": ["traits.contact.address.county", "equals"],
      "data.contact.address.country": ["traits.contact.address.country","equals"],
      "data.contact.address.postcode": ["traits.contact.address.postcode","equals"],
      "data.contact.address.street": ["traits.contact.address.street","equals"]
    }
  },

  {
    "name": "Payment Info Entered",
    "description": "Customer added payment information",
    "id": "payment-info-entered",
    "properties": {
      "order_id": "string",
      "method": "string",
      "credit_card": {
        "number": "string",
        "expires": "string",
        "holder": "string",
        "cvv": ""
      }
    }
  },

  {
    "name": "Order Started",
    "description": "Customer completed the order",
    "id": "order-started",
    "const": {
      "status": "started"
    },
    "properties": {
      "id": "string",
      "income": {
        "value": "float",
        "revenue": "float"
      },
      "cost": {
        "shipping": "float",
        "tax": "float",
        "discount": "float",
        "other": "float"
      },
      "affiliation": "string",
      "products": [
        {
          "id": "string",
          "name": "string",
          "sku": "string",
          "category": "string",
          "brand": "string",
          "variant": {
            "name": "string",
            "color": "string",
            "size": "string"
          },
          "price": "float",
          "quantity": "int",
          "url": {
            "image": "url",
            "page": "url"
          }
        }
      ]
    },
    "event": {
      "order.id": "id",
      "order.status": "status"
    }
  },
  {
    "id": "order-completed",
    "name": "Order Completed",
    "description": "Customer completed the order",
    "const": {
      "status": "completed"
    },
    "event": {
      "order.id": "id",
      "order.status": "status"
    }
  },
  {
    "name": "Product Shared",
    "description": "Customer shared a product.",
    "id": "product-shared",
    "properties": {
      "id": "string",
      "media": "string"
    }
  },
  {
    "name": "Product Reviewed",
    "description": "Customer reviewed a product.",
    "id": "product-reviewed",
    "properties": {
      "id": "string",
      "review": "string",
      "rate": "integer"
    },
    "event": {
      "product.id": "id",
      "product.review": "review",
      "product.rate": "rate"
    }
  },
  {
    "id": "loyalty-card-added",
    "name": "Loyalty Card Added",
    "description": "Customer adds or receives loyalty card.",
    "properties": {
      "id": "string",
      "name": "string",
      "issuer": "string",
      "expires": "datetime"
    },
    "event": {
      "loyalty.card.id": "id",
      "loyalty.card.name": "name",
      "loyalty.card.issuer": "issuer",
      "loyalty.card.expires": "expires"
    },
    "profile": {
      "data.loyalty.card.id":  ["traits.loyalty.card.id", "equal"],
      "data.loyalty.card.name": ["traits.loyalty.card.name", "equal"],
      "data.loyalty.card.issuer": ["traits.loyalty.card.issuer", "equal"],
      "data.loyalty.card.expires": ["traits.loyalty.card.expires", "equal"]
    }
  },
  {
    "id": "loyalty-card-removed",
    "name": "Loyalty Card Removed",
    "description": "Customer removes or loyalty card is deleted.",
    "properties": {
      "id": "string"
    },
    "event": {
      "loyalty.card.id": "id"
    },
    "profile": {
      "data.loyalty.card.id":  [null, "delete"],
      "data.loyalty.card.name": [null, "delete"],
      "data.loyalty.card.issuer": [null, "delete"],
      "data.loyalty.card.expires": [null, "delete"]
    }
  }
]
